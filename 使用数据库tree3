https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css
在 MySQL 中创建一个数据库（如 treehole），然后创建数据表 messages（示例 SQL 如下）：

sql

https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css


CREATE TABLE `messages` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `content` TEXT NOT NULL,
  `image` VARCHAR(255) DEFAULT NULL,
  `post_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_edit_time` DATETIME DEFAULT NULL,
  `edit_password` VARCHAR(255) NOT NULL,
  `ip_address` VARCHAR(45) DEFAULT NULL,
  `device_info` VARCHAR(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;



请在你的数据库中执行以下 SQL（或在已有的 config.php 连接的数据库里手动添加一张 comments 表）：

sql

CREATE TABLE `comments` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `message_id` INT(11) NOT NULL,
  `content` TEXT NOT NULL,
  `image` VARCHAR(255) DEFAULT NULL,
  `post_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_edit_time` DATETIME DEFAULT NULL,
  `edit_password` VARCHAR(255) NOT NULL,
  `ip_address` VARCHAR(45) DEFAULT NULL,
  `device_info` VARCHAR(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `message_id_idx` (`message_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
说明：

message_id 用于和主贴（messages 表）关联。
也可以视自己需求加外键约束，例如 FOREIGN KEY (message_id) REFERENCES messages(id) ON DELETE CASCADE 之类。
